<div id="profiles-index" class="row">
  <div class="large-12 columns">
    <ul class="button-group">
      <li><a href="/profiles/filter" class="button">Filter</a></li>
      <li><a href="/profiles/sort" class="button">Sort</a></li>
      <li><a href="/profiles/columns" class="button">Columns</a></li>
      <li><a href="/profiles/programs" class="button">Programs</a></li>
    </ul>

    <div id="profile-list" ng-show="profileData.loaded">
      <p ng-hide="profileData.data.length > 0">No records fit your search criteria.</p>
      <table ng-show="profileData.data.length > 0">
        <thead>
          <th ng-repeat="field in columns">{{ field | titleize }}</th>
        </thead>
        <tbody>
          <tr ng-repeat="profile in profileData.data" ng-click="viewProfile()">
            <td ng-repeat="field in columns" ng-switch="field">
              <div ng-switch-default>{{ profile[field] }}</div>
              <div ng-switch-when="activities">
                <ul>
                  <li ng-repeat="activity in profile[field]">{{ activity.program }}<span ng-show="activity.detail"> ({{ activity.detail }})</span>&nbsp;&nbsp;{{ activity.start_date | dateFix:'shortDate' }}-{{ activity.end_date | dateFix:'shortDate' }}</li>
                </ul>
              </div>
            </td>
          </tr>
        </tbody>
      </table>
    </div>

    <div id="view_profile_modal" class="modal-box" ng-show="viewingProfile" ng-include="'view_profile.html'"></div>

    <div class="modal-box" ng-show="editingProfile"></div>

    <div class="modal-bg" ng-show="viewingProfile || editingProfile" ng-click="doneViewing()"></div>

  </div>
</div>

